{"version":3,"file":"main.css","mappings":"AAoTA,8BACE,iBAAkB,CAClB,UAAW,CACX,eAAgB,CAChB,gBAAiB,CACjB,iBACF,CAGA,qCACE,yFAAgG,CAChG,aAAc,CACd,UAAW,CAEX,2EAE2B,CAC3B,YAAa,CACb,qBAAsB,CACtB,SAAU,CACV,mBAAoB,CACpB,iBAAkB,CAClB,kBACF,CACA,8CACE,SAAU,CACV,mBACF,CACA,sDACE,YACF,CACA,sDACE,WAAY,CACZ,mBACF,CACA,yCACE,wBAAyB,CACzB,kBAAmB,CACnB,qCAAyC,CACzC,YAAa,CACb,UAAW,CACX,WAAY,CACZ,qBAAsB,CACtB,YAAa,CACb,qBAAsB,CACtB,eAAgB,CAChB,iBAAkB,CAClB,SACF,CACA,8BACE,YAAa,CACb,qBAAsB,CACtB,OAAQ,CACR,aACF,CAGA,6BACE,YAAa,CACb,kBAAmB,CACnB,QAAS,CACT,WACF,CACA,4BACE,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,gBAAiB,CACjB,aACF,CACA,wCACE,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,wBAAyB,CACzB,cAAe,CACf,aACF,CACA,0BACE,eAAgB,CAChB,YAAa,CACb,qBAAsB,CACtB,sBACF,CACA,4BACE,QAAS,CACT,kBAAmB,CACnB,eAAgB,CAChB,sBACF,CACA,wBACE,eAAgB,CAChB,cAAe,CACf,aACF,CACA,yBACE,cAAe,CACf,aACF,CAGA,2BACE,YAAa,CACb,6BAA8B,CAC9B,kBACF,CACA,gCACE,YAAa,CACb,kBAAmB,CACnB,QACF,CACA,8BACE,eAAgB,CAChB,WAAY,CACZ,aAAc,CACd,cAAe,CACf,iBAAkB,CAClB,YAAa,CACb,sBAAuB,CACvB,kBAAmB,CACnB,yDAEqB,CACrB,cAAe,CACf,UAAW,CACX,WACF,CACA,oCACE,sCACF,CACA,qCACE,qBAAsB,CACtB,uCACF,CACA,iCACE,cAAe,CACf,UAAW,CACX,WACF,CACA,6FAEE,UACF,CAGA,0CACE,iBAAkB,CAElB,WAAY,CACZ,UAAW,CACX,yBAA0B,CAC1B,0DAAqD,CACrD,UAAW,CACX,cAAe,CACf,YAAa,CACb,sBACF,CACA,uCACE,iBAAkB,CAClB,UAAW,CAEX,WAAY,CACZ,cACF,CACA,8CACE,iBAAkB,CAClB,KAAM,CACN,QAAS,CACT,0BAA2B,CAC3B,SAAU,CACV,WAAY,CACZ,wBAAyB,CACzB,iBAAkB,CAClB,eACF,CACA,iDACE,iBAAkB,CAClB,QAAS,CACT,MAAO,CACP,UAAW,CACX,wBAAyB,CACzB,iBACF,CACA,8CACE,iBAAkB,CAClB,QAAS,CACT,0BAA2B,CAE3B,SAAU,CACV,UAAW,CACX,wBAAyB,CACzB,iBAAkB,CAClB,mBAAoB,CACpB,oCACF,CACA,4BACE,KACE,SAAU,CACV,qCAAsC,CACtC,uBACF,CACA,GACE,SAAU,CACV,mCAAoC,CACpC,uBACF,CACF,CAGA,kCACE,WAAY,CACZ,eAAgB,CAChB,sBAAuB,CACvB,wBAAyB,CACzB,oBAAqB,CACrB,+BAAgC,CAEhC,uEAEmB,CACnB,YAAa,CACb,SAAU,CACV,iBACF,CACA,uEACE,gBAAiB,CACjB,SAAU,CACV,kBACF,CACA,2BACE,eAAgB,CAChB,SAAU,CACV,QACF,CACA,8BACE,YAAa,CACb,mCAAoC,CACpC,QAAS,CACT,kBAAmB,CACnB,WAAY,CACZ,iBAAkB,CAClB,cAAe,CACf,cAAe,CACf,gCAAiC,CACjC,gDACF,CACA,2CACE,qBACF,CACA,2CACE,oBACF,CACA,2CACE,qBACF,CACA,2CACE,oBACF,CACA,2CACE,qBACF,CACA,+BACE,KACE,SAAU,CACV,0BACF,CACA,GACE,SAAU,CACV,uBACF,CACF,CACA,oCACE,sCACF,CACA,qCACE,wBAAyB,CACzB,WACF,CACA,yFAEE,2BACF,CACA,qCACE,aAAc,CACd,gBAAiB,CACjB,cACF,CACA,sCACE,aAAc,CACd,gBAAiB,CACjB,kBAAmB,CACnB,eAAgB,CAChB,sBACF,CAGA,gCACE,iBAAkB,CAClB,KAAM,CACN,MAAO,CACP,OAAQ,CACR,QAAS,CACT,YAAa,CACb,qBAAsB,CACtB,sBAAuB,CACvB,kBAAmB,CACnB,iBAAkB,CAClB,YAAa,CACb,oCAAwC,CACxC,oCAAwC,CACxC,kBAAmB,CACnB,UACF,CACA,kCACE,gBACF,CACA,sCACE,QACF","sources":["src://tavern_helper_template/src/音乐前端/app.vue"],"sourcesContent":["<template>\n  <!-- [修改点] V9.1 - 新增根节点，用于解耦音量条与主容器的布局 -->\n  <div class=\"player-root\">\n    <div\n      class=\"aria-pod-container\"\n      :class=\"{\n        'is-ready': isReadyToShow,\n        'is-playlist-open': isPlaylistVisible,\n        'is-transitioning': isTransitioning,\n      }\"\n      @click=\"handleClickOutside\"\n    >\n      <div class=\"player-content-wrapper\">\n        <!-- \"Aria Pod\" 主界面 -->\n        <div v-if=\"!initializationError\" class=\"player-main\">\n          <!-- 1. 当前曲目区 (Track Info) -->\n          <div class=\"track-info\">\n            <img v-if=\"currentItem?.cover\" :src=\"currentItem.cover\" alt=\"封面\" class=\"cover-art\" />\n            <div v-else class=\"cover-art cover-art-placeholder\">\n              <i class=\"fa-solid fa-music\"></i>\n            </div>\n            <div class=\"details\">\n              <p class=\"title\" :title=\"currentItem?.title\">{{ currentItem?.title || '歌单未配置' }}</p>\n              <p class=\"artist\" :title=\"currentItem?.artist\">{{ currentItem?.artist || '未知艺术家' }}</p>\n            </div>\n          </div>\n\n          <!-- 2. 核心控制区 (Playback Controls) -->\n          <div class=\"controls\">\n            <button\n              ref=\"modeButtonRef\"\n              class=\"control-btn\"\n              title=\"切换播放模式 (轻点) / 打开列表 (长按)\"\n              @click.prevent=\"cyclePlaybackMode\"\n            >\n              <i\n                class=\"fa-solid\"\n                :class=\"{\n                  'fa-list-ul': playbackMode === 'list',\n                  'fa-shuffle': playbackMode === 'random',\n                  'fa-repeat': playbackMode === 'single',\n                }\"\n              ></i>\n            </button>\n            <div class=\"main-controls\">\n              <button class=\"control-btn\" title=\"上一首\" @click=\"playPrev\">\n                <i class=\"fa-solid fa-backward-step\"></i>\n              </button>\n              <button class=\"control-btn play-pause-btn\" :title=\"isPlaying ? '暂停' : '播放'\" @click=\"togglePlayPause\">\n                <i :class=\"isPlaying ? 'fa-solid fa-pause' : 'fa-solid fa-play'\"></i>\n              </button>\n              <button class=\"control-btn\" title=\"下一首\" @click=\"playNext\">\n                <i class=\"fa-solid fa-forward-step\"></i>\n              </button>\n            </div>\n            <div class=\"volume-control-wrapper\">\n              <button class=\"control-btn volume-btn\" title=\"音量\" @click.stop=\"toggleVolume\">\n                <i class=\"fa-solid fa-volume-high\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 3. 播放列表抽屉 (Playlist Drawer) -->\n        <div class=\"playlist-drawer\">\n          <ul class=\"playlist\">\n            <li\n              v-for=\"(item, index) in playlist\"\n              :key=\"`${item.title}-${index}`\"\n              :class=\"{ active: index === activeIndex }\"\n              :title=\"`播放: ${item.title}`\"\n              @click=\"playIndex(index)\"\n            >\n              <span class=\"index\">{{ index + 1 }}</span>\n              <span class=\"title\">{{ item.title }}</span>\n              <span class=\"artist\">{{ item.artist }}</span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <!-- [修改点] V9.1 - 音量滑块现在是根节点的子元素，与主容器是兄弟关系 -->\n    <div v-if=\"isVolumeVisible\" class=\"volume-slider-container\" @click.stop>\n      <div ref=\"volumeTrackRef\" class=\"custom-volume-slider\" @mousedown.prevent.stop=\"startVolumeDrag\">\n        <div class=\"track\">\n          <div class=\"progress\" :style=\"{ height: `${masterVolume * 100}%` }\"></div>\n        </div>\n        <div class=\"thumb\" :style=\"{ bottom: `calc(${masterVolume * 100}% - 4px)` }\"></div>\n      </div>\n    </div>\n\n    <!-- 初始化错误提示 (无变化) -->\n    <div v-if=\"initializationError\" class=\"error-overlay\">\n      <p><i class=\"fa-solid fa-triangle-exclamation\"></i> 播放器加载失败</p>\n      <small>{{ initializationError }}</small>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { onLongPress } from '@vueuse/core';\nimport { onMounted, onUnmounted, ref } from 'vue';\n\n// --- 状态与引用 ---\nconst isPlaylistVisible = ref(false);\nconst isVolumeVisible = ref(false);\nconst volumeTrackRef = ref<HTMLElement | null>(null);\nconst modeButtonRef = ref<HTMLElement | null>(null);\n\n// [新增] 用于区分长按和轻点的“信号旗”\nconst isLongPressJustFinished = ref(false);\n\nconst log = (message: string) => console.log(`[播放器前端] ${message}`);\n\ntype PlaybackMode = 'list' | 'single' | 'random';\ntype PlaylistItem = { title: string; artist?: string; cover?: string };\ntype FullStatePayload = {\n  currentItem: { title: string; artist?: string; cover?: string } | null;\n  isPlaying: boolean;\n  playbackMode: PlaybackMode;\n  masterVolume: number;\n  playlist: PlaylistItem[];\n  isTransitioning: boolean;\n};\ntype TimeUpdatePayload = { currentTime: number; duration: number };\ninterface MusicPlayerAPI {\n  requestInitialization: () => Promise<void>;\n  togglePlayPause: () => void;\n  playNext: () => void;\n  playPrev: () => void;\n  playIndex: (index: number) => void;\n  persistVolumeAndBroadcast: (volume: number) => void;\n  setLiveVolume: (volume: number) => void;\n  seekTo: (percentage: number) => void;\n  setPlaybackMode: (mode: PlaybackMode) => void;\n  getCurrentState: () => FullStatePayload;\n  onFullStateUpdate: (callback: (payload: FullStatePayload) => void) => () => void;\n  onTimeUpdate: (callback: (payload: TimeUpdatePayload) => void) => () => void;\n}\n\nconst musicPlayerAPI = ref<MusicPlayerAPI | null>(null);\nlet unregisterStateListener: (() => void) | null = null;\nconst initializationError = ref<string | null>(null);\nconst isReadyToShow = ref(false);\nconst isPlaying = ref(false);\nconst isTransitioning = ref(false);\nconst currentItem = ref<{ title: string; artist?: string; cover?: string } | null>(null);\nconst playlist = ref<PlaylistItem[]>([]);\nconst masterVolume = ref(0.5);\nconst activeIndex = ref(-1);\nconst playbackMode = ref<PlaybackMode>('list');\n\n// --- 核心交互逻辑 ---\n\nconst cyclePlaybackMode = () => {\n  // [修改] 增加“信号旗”检查逻辑\n  if (isLongPressJustFinished.value) {\n    isLongPressJustFinished.value = false; // 放下信号旗\n    log('“轻点”事件被抑制，因为它是一次长按的结束。');\n    return; // 阻止后续的模式切换逻辑\n  }\n\n  const modes: PlaybackMode[] = ['list', 'random', 'single'];\n  const currentIndex = modes.indexOf(playbackMode.value);\n  const nextIndex = (currentIndex + 1) % modes.length;\n  const nextMode = modes[nextIndex];\n  musicPlayerAPI.value?.setPlaybackMode(nextMode);\n};\n\nonLongPress(\n  modeButtonRef,\n  () => {\n    isPlaylistVisible.value = !isPlaylistVisible.value;\n    if (isPlaylistVisible.value) isVolumeVisible.value = false;\n    log('长按触发：切换播放列表显示。');\n\n    // [修改] 升起“信号旗”，标记刚刚完成了一次长按\n    isLongPressJustFinished.value = true;\n    log('长按已处理，设置“轻点”抑制信号旗。');\n  },\n  { delay: 400 },\n);\n\nconst toggleVolume = () => {\n  isVolumeVisible.value = !isVolumeVisible.value;\n  if (isVolumeVisible.value) isPlaylistVisible.value = false;\n};\n\nconst handleClickOutside = () => {\n  if (isVolumeVisible.value) {\n    isVolumeVisible.value = false;\n  }\n};\n\nconst updateFullState = (state: FullStatePayload) => {\n  log(`接收到完整状态更新`);\n  isPlaying.value = state.isPlaying;\n  isTransitioning.value = state.isTransitioning;\n  currentItem.value = state.currentItem;\n  playlist.value = state.playlist;\n  masterVolume.value = state.masterVolume;\n  playbackMode.value = state.playbackMode;\n\n  if (state.currentItem) {\n    activeIndex.value =\n      state.playlist.length > 0\n        ? state.playlist.findIndex(\n            track =>\n              track.title === state.currentItem!.title &&\n              track.artist === state.currentItem!.artist &&\n              track.cover === state.currentItem!.cover,\n          )\n        : -1;\n  } else {\n    activeIndex.value = -1;\n  }\n};\n\nconst togglePlayPause = () => musicPlayerAPI.value?.togglePlayPause();\nconst playNext = () => musicPlayerAPI.value?.playNext();\nconst playPrev = () => musicPlayerAPI.value?.playPrev();\nconst playIndex = (index: number) => musicPlayerAPI.value?.playIndex(index);\n\nconst updateVolumeFromEvent = (event: MouseEvent) => {\n  if (!volumeTrackRef.value) return;\n  const rect = volumeTrackRef.value.getBoundingClientRect();\n  const relativeY = rect.bottom - event.clientY;\n  const newVolume = Math.max(0, Math.min(1, relativeY / rect.height));\n  masterVolume.value = newVolume;\n  musicPlayerAPI.value?.setLiveVolume(newVolume);\n};\n\nconst handleVolumeDrag = (event: MouseEvent) => {\n  updateVolumeFromEvent(event);\n};\n\nconst endVolumeDrag = () => {\n  document.removeEventListener('mousemove', handleVolumeDrag);\n  document.removeEventListener('mouseup', endVolumeDrag);\n  musicPlayerAPI.value?.persistVolumeAndBroadcast(masterVolume.value);\n};\n\nconst startVolumeDrag = (event: MouseEvent) => {\n  updateVolumeFromEvent(event);\n  document.addEventListener('mousemove', handleVolumeDrag);\n  document.addEventListener('mouseup', endVolumeDrag, { once: true });\n};\n\nonUnmounted(() => {\n  if (unregisterStateListener) {\n    unregisterStateListener();\n    console.log('[播放器前端] 已注销状态监听器，防止内存泄漏。');\n  }\n});\n\nfunction waitForGlobalObject(objectName: string, timeoutMs: number): Promise<any> {\n  return new Promise((resolve, reject) => {\n    const startTime = Date.now();\n    const interval = setInterval(() => {\n      // @ts-expect-error top 是一个全局浏览器对象\n      if (typeof top[objectName] === 'object' && top[objectName] !== null) {\n        clearInterval(interval);\n        // @ts-expect-error top 是一个全局浏览器对象\n        resolve(top[objectName]);\n      } else if (Date.now() - startTime > timeoutMs) {\n        clearInterval(interval);\n        reject(new Error(`连接后台脚本失败。请确认角色卡的脚本开关已打开。若已打开请刷新页面重试。`));\n      }\n    }, 100);\n  });\n}\n\nonMounted(() => {\n  console.log('播放器前端已挂载。检查 onLongPress:', onLongPress);\n  (async () => {\n    try {\n      log('开始初始化流程... 界面当前为透明状态。');\n      const api: MusicPlayerAPI = await waitForGlobalObject('musicPlayerAPI', 10000);\n      log('后台脚本API \"musicPlayerAPI\" 已就绪。');\n      await Promise.race([\n        api.requestInitialization(),\n        new Promise((_, reject) =>\n          setTimeout(\n            () => reject(new Error('后台脚本初始化超时。如果这是您第一次加载角色卡，请尝试刷新页面。')),\n            10000,\n          ),\n        ),\n      ]);\n      log('后台初始化请求已成功完成。');\n      musicPlayerAPI.value = api;\n      const initialState = api.getCurrentState();\n      updateFullState(initialState);\n      unregisterStateListener = api.onFullStateUpdate(updateFullState);\n      log('初始化成功！界面已与后台同步。');\n      log('[幕启] 后台状态已同步，即将显示界面。');\n      isReadyToShow.value = true;\n    } catch (error) {\n      const errorMsg = `初始化流程失败: ${error}`;\n      log(errorMsg);\n      initializationError.value = error instanceof Error ? error.message : String(error);\n      isReadyToShow.value = true;\n    }\n  })();\n});\n</script>\n\n<style scoped>\n.player-root {\n  position: relative;\n  width: 100%;\n  max-width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n/* 1. 根容器与核心布局 */\n.aria-pod-container {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;\n  color: #f2f2f7;\n  width: 100%; /* 继承自 player-root 的宽度 */\n  /* [修改点] V9.1 - 优化了动画曲线，使其感觉更平滑 */\n  transition:\n    height 0.35s cubic-bezier(0.4, 0, 0.2, 1),\n    opacity 0.25s ease-in-out;\n  height: 120px;\n  box-sizing: border-box;\n  opacity: 0;\n  pointer-events: none;\n  position: relative;\n  will-change: height; /* 提示浏览器此属性将要动画，可能有助于性能 */\n}\n.aria-pod-container.is-ready {\n  opacity: 1;\n  pointer-events: auto;\n}\n.aria-pod-container.is-playlist-open {\n  height: 240px;\n}\n.aria-pod-container.is-transitioning {\n  opacity: 0.7;\n  pointer-events: none;\n}\n.player-content-wrapper {\n  background-color: #1c1c1e;\n  border-radius: 12px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);\n  padding: 12px;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  position: relative;\n  z-index: 1;\n}\n.player-main {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n/* 2. 曲目信息区 (无变化) */\n.track-info {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  height: 52px;\n}\n.cover-art {\n  width: 52px;\n  height: 52px;\n  border-radius: 8px;\n  object-fit: cover;\n  flex-shrink: 0;\n}\n.cover-art-placeholder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #161618;\n  font-size: 22px;\n  color: #8e8e93;\n}\n.details {\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.details p {\n  margin: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.title {\n  font-weight: 600;\n  font-size: 16px;\n  color: #ffffff;\n}\n.artist {\n  font-size: 13px;\n  color: #8e8e93;\n}\n\n/* 3. 控制区 (无变化) */\n.controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.main-controls {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n}\n.control-btn {\n  background: none;\n  border: none;\n  color: #f2f2f7;\n  cursor: pointer;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition:\n    background-color 0.2s ease,\n    transform 0.1s ease;\n  font-size: 15px;\n  width: 30px;\n  height: 30px;\n}\n.control-btn:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.control-btn:active {\n  transform: scale(0.92);\n  background-color: rgba(255, 255, 255, 0.15);\n}\n.play-pause-btn {\n  font-size: 16px;\n  width: 36px;\n  height: 36px;\n}\n.volume-control-wrapper,\n.controls > .control-btn:first-child {\n  width: 30px;\n}\n\n/* 4. 自定义音量滑块样式 (有修改) */\n.volume-slider-container {\n  position: absolute;\n  /* [修改点] V9.1 - 重新计算了 bottom 和 right，使其精确定位 */\n  bottom: 40px; /* 向上偏移，使其出现在按钮上方 */\n  right: 27px; /* 移动到与音量按钮中心对齐的位置 */\n  transform: translateX(50%); /* 将容器自身的中心对齐到 right 指定的点 */\n  animation: grow-up 0.2s cubic-bezier(0.25, 1, 0.5, 1);\n  z-index: 10;\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n}\n.custom-volume-slider {\n  position: relative;\n  width: 24px;\n  /* [修改点] V9.1 - 缩短了音量条高度，防止超出容器 */\n  height: 65px;\n  cursor: pointer;\n}\n.custom-volume-slider .track {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 6px;\n  height: 100%;\n  background-color: #3a3a3c;\n  border-radius: 3px;\n  overflow: hidden;\n}\n.custom-volume-slider .progress {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background-color: #0a84ff;\n  border-radius: 3px;\n}\n.custom-volume-slider .thumb {\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  /* [修改点] V9.1 - 缩小了滑块尺寸 */\n  width: 8px;\n  height: 8px;\n  background-color: #ffffff;\n  border-radius: 50%;\n  pointer-events: none;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n}\n@keyframes grow-up {\n  from {\n    opacity: 0;\n    transform: translateX(50%) scaleY(0.5);\n    transform-origin: bottom;\n  }\n  to {\n    opacity: 1;\n    transform: translateX(50%) scaleY(1);\n    transform-origin: bottom;\n  }\n}\n\n/* 5. 播放列表抽屉 (有修改) */\n.playlist-drawer {\n  flex-grow: 1;\n  overflow-y: auto;\n  margin: 4px -12px -12px;\n  padding: 4px 8px 12px 8px;\n  scrollbar-width: thin;\n  scrollbar-color: #8e8e93 #3a3a3c;\n  /* [修改点] V9.1 - 采用 max-height 来实现动画，解决性能问题 */\n  transition:\n    max-height 0.35s cubic-bezier(0.4, 0, 0.2, 1),\n    opacity 0.2s ease;\n  max-height: 0;\n  opacity: 0;\n  visibility: hidden;\n}\n.aria-pod-container.is-playlist-open .playlist-drawer {\n  max-height: 120px;\n  opacity: 1;\n  visibility: visible;\n}\n.playlist {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.playlist li {\n  display: grid;\n  grid-template-columns: 20px 1fr auto;\n  gap: 10px;\n  align-items: center;\n  padding: 8px;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 14px;\n  transition: background-color 0.2s;\n  animation: fade-in-up 0.3s ease-out both;\n}\n.playlist li:nth-child(1) {\n  animation-delay: 0.05s;\n}\n.playlist li:nth-child(2) {\n  animation-delay: 0.1s;\n}\n.playlist li:nth-child(3) {\n  animation-delay: 0.15s;\n}\n.playlist li:nth-child(4) {\n  animation-delay: 0.2s;\n}\n.playlist li:nth-child(5) {\n  animation-delay: 0.25s;\n}\n@keyframes fade-in-up {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.playlist li:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.playlist li.active {\n  background-color: #0a84ff;\n  color: white;\n}\n.playlist li.active .artist,\n.playlist li.active .index {\n  color: rgba(255, 255, 255, 0.8);\n}\n.playlist li .index {\n  color: #8e8e93;\n  text-align: right;\n  font-size: 12px;\n}\n.playlist li .artist {\n  color: #8e8e93;\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* 6. 错误状态 (无变化) */\n.error-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  padding: 20px;\n  background-color: rgba(255, 59, 48, 0.2);\n  border: 1px solid rgba(255, 59, 48, 0.5);\n  border-radius: 12px;\n  z-index: 20;\n}\n.error-overlay p {\n  margin: 0 0 5px 0;\n}\n.error-overlay small {\n  margin: 0;\n}\n</style>\n"],"names":[],"ignoreList":[],"sourceRoot":""}